import{_ as e}from"./_plugin-vue_export-helper.cdc0426e.js";import{o as p,c as o,f as c,b as n,d as l,w as i,e as a,a as s,r as u}from"./app.d78d5de9.js";const r={},k=n("h1",{id:"c001-22\u5C4A0727\u602A",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#c001-22\u5C4A0727\u602A","aria-hidden":"true"},"#"),a(" C001.22\u5C4A0727\u602A")],-1),d=s(`<h2 id="_1-imptuspsfedexbillsserviceimpl-java-266-274" tabindex="-1"><a class="header-anchor" href="#_1-imptuspsfedexbillsserviceimpl-java-266-274" aria-hidden="true">#</a> 1.ImptUspsFedexBillsServiceImpl.java 266-274</h2><p>express-home 2022-07-27 20:11:22</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">//logger.info(&quot;ImptUspsFedexBillsService.importUspsFedexBills, deal data&quot;);</span>
<span class="token class-name">BigDecimal</span> weightRaw <span class="token operator">=</span> <span class="token class-name">DecimalUtil</span><span class="token punctuation">.</span><span class="token function">object</span><span class="token punctuation">(</span>row<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">BigDecimal</span><span class="token punctuation">.</span>ZERO<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//\u5305\u88F9\u5B9E\u91CF</span>
<span class="token class-name">BigDecimal</span> weightIso <span class="token operator">=</span> <span class="token class-name">DecimalUtil</span><span class="token punctuation">.</span><span class="token function">object</span><span class="token punctuation">(</span>row<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">BigDecimal</span><span class="token punctuation">.</span>ZERO<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//\u8BA1\u8D39\u91CD\u91CF</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>weightIso<span class="token punctuation">.</span><span class="token function">doubleValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">50.00</span> <span class="token operator">&amp;&amp;</span> weightIso<span class="token punctuation">.</span><span class="token function">doubleValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">51.00</span><span class="token punctuation">)</span>
    <span class="token operator">||</span> <span class="token punctuation">(</span>weightIso<span class="token punctuation">.</span><span class="token function">doubleValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">100.00</span> <span class="token operator">&amp;&amp;</span> weightIso<span class="token punctuation">.</span><span class="token function">doubleValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">101.00</span><span class="token punctuation">)</span>
    <span class="token operator">||</span> <span class="token punctuation">(</span>weightIso<span class="token punctuation">.</span><span class="token function">doubleValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">200.00</span> <span class="token operator">&amp;&amp;</span> weightIso<span class="token punctuation">.</span><span class="token function">doubleValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">201.00</span><span class="token punctuation">)</span>
    <span class="token operator">||</span> <span class="token punctuation">(</span>weightIso<span class="token punctuation">.</span><span class="token function">doubleValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">300.00</span> <span class="token operator">&amp;&amp;</span> weightIso<span class="token punctuation">.</span><span class="token function">doubleValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">301.00</span><span class="token punctuation">)</span>
    <span class="token operator">||</span> <span class="token punctuation">(</span>weightIso<span class="token punctuation">.</span><span class="token function">doubleValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">500.00</span> <span class="token operator">&amp;&amp;</span> weightIso<span class="token punctuation">.</span><span class="token function">doubleValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">501.00</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    weightIso <span class="token operator">=</span> weightIso<span class="token punctuation">.</span><span class="token function">setScale</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token class-name">BigDecimal</span><span class="token punctuation">.</span>ROUND_UP<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u9B54\u6CD5\u6570\u5B57-\u53EF\u8BFB\u6027\u5DEE-get-18" tabindex="-1"><a class="header-anchor" href="#\u9B54\u6CD5\u6570\u5B57-\u53EF\u8BFB\u6027\u5DEE-get-18" aria-hidden="true">#</a> \u9B54\u6CD5\u6570\u5B57\uFF0C\u53EF\u8BFB\u6027\u5DEE get(18)</h3><p><code>row.get(18)</code> \u53EF\u8BFB\u6027\u6781\u5DEE\uFF0C\u5E94\u5B9A\u4E49\u53D8\u91CF\u540D\uFF0C\u6216\u4F7F\u7528excel\u7684AZ\u5750\u6807\u4F53\u7CFB\u3002</p><h3 id="\u786C\u6838\u903B\u8F91-\u786C\u7F16\u7801" tabindex="-1"><a class="header-anchor" href="#\u786C\u6838\u903B\u8F91-\u786C\u7F16\u7801" aria-hidden="true">#</a> \u786C\u6838\u903B\u8F91\uFF0C\u786C\u7F16\u7801</h3><p><code>50.00 .. 51.00</code>\u7684\u903B\u8F91\u592A\u786C\u6838\u4E86\uFF0C\u731C\u6D4B\u5176\u610F\u56FE\u662F\u4E2A\u4F4D\u7684\u6570\u5B57\uFF0C\u5728<code>(0,1)</code>\u533A\u95F4 ROUND_UP\u3002</p><h3 id="\u6570\u503C\u7C7B\u578B\u4E71\u7528" tabindex="-1"><a class="header-anchor" href="#\u6570\u503C\u7C7B\u578B\u4E71\u7528" aria-hidden="true">#</a> \u6570\u503C\u7C7B\u578B\u4E71\u7528</h3><p>\u91C7\u7528BigDecimal\u662F\u4E3A\u4E86\uFF0C\u907F\u514D\u6D6E\u70B9\u7C7B\u578B<code>\u7CBE\u5EA6</code>\u548C<code>\u6BD4\u8F83</code>\u7684\u95EE\u9898\u3002\u4E92\u8F6C\u65F6\u5FC5\u987B\u7EDF\u4E00\u754C\u9762\u3002</p><h2 id="_2-dashboardcontroller-java-30-33" tabindex="-1"><a class="header-anchor" href="#_2-dashboardcontroller-java-30-33" aria-hidden="true">#</a> 2.DashboardController.java 30-33</h2><p>tail-backend 2022-07-28 08:56:33</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Operation</span><span class="token punctuation">(</span>summary <span class="token operator">=</span> <span class="token string">&quot;\u83B7\u53D65\u5468\u63D0\u5355\u53D8\u5316\u8D8B\u52BF\u56FE&quot;</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;/dashboard/out/line-chart-weeks.json&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">R</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> <span class="token function">getLineChartWeeks</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token class-name">R</span><span class="token punctuation">.</span><span class="token function">okData</span><span class="token punctuation">(</span>dashboardService<span class="token punctuation">.</span><span class="token function">getLineChartWeeks</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u5E76\u4E14\u4F5C\u4E3A\u5BF9\u5916\u63A5\u53E3-\u5FC5\u987B\u660E\u786E\u7C7B\u578B" tabindex="-1"><a class="header-anchor" href="#\u5E76\u4E14\u4F5C\u4E3A\u5BF9\u5916\u63A5\u53E3-\u5FC5\u987B\u660E\u786E\u7C7B\u578B" aria-hidden="true">#</a> \u5E76\u4E14\u4F5C\u4E3A\u5BF9\u5916\u63A5\u53E3\uFF0C\u5FC5\u987B\u660E\u786E\u7C7B\u578B</h3>`,13),v=n("code",null,"R<?>",-1),m=a("\u8FDD\u53CD "),h=n("code",null,"A01H.\u65B9\u6CD5\u7B7E\u540D\u5BBD\u8FDB\u4E25\u51FA",-1),b=a(),f=a("\u63A8\u8350"),g=s(`<ul><li>\u4EE5\u4FBFSwagger\u53EF\u4EE5\u81EA\u52A8\u751F\u6210Api\u6587\u6863\u3002</li><li>\u82E5\u662F\u6709\u53CD\u5E8F\u5217\u5316\u9700\u6C42\uFF0C\u5219\u90FD\u9700\u8981\u4F7F\u7528\u5177\u4F53\u5B9E\u73B0\u7C7B\uFF0C\u4EE5\u4FDD\u8BC1\u6570\u636E\u7279\u5F81\u3002</li></ul><h2 id="_3-dashboardcontroller-java-57-66" tabindex="-1"><a class="header-anchor" href="#_3-dashboardcontroller-java-57-66" aria-hidden="true">#</a> 3.DashboardController.java 57-66</h2><p>tail-backend 2022-07-28 10:28:01</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Operation</span><span class="token punctuation">(</span>summary <span class="token operator">=</span> <span class="token string">&quot;\u63D0\u5355\u5BFC\u51FA&quot;</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;/dashboard/out/export.json&quot;</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@DoubleKill</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">export</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestBody</span> <span class="token class-name">DashboardService<span class="token punctuation">.</span>QueryDate</span> queryDate<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        dashboardService<span class="token punctuation">.</span><span class="token function">export</span><span class="token punctuation">(</span>queryDate<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        response<span class="token punctuation">.</span><span class="token function">reset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        response<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">&quot;application/json&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        response<span class="token punctuation">.</span><span class="token function">setCharacterEncoding</span><span class="token punctuation">(</span><span class="token string">&quot;utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">R</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> data <span class="token operator">=</span> <span class="token class-name">R</span><span class="token punctuation">.</span><span class="token function">ng</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>JSON<span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u907F\u514D\u7834\u574F\u5F02\u5E38\u7684\u7EDF\u4E00\u5904\u7406" tabindex="-1"><a class="header-anchor" href="#\u907F\u514D\u7834\u574F\u5F02\u5E38\u7684\u7EDF\u4E00\u5904\u7406" aria-hidden="true">#</a> \u907F\u514D\u7834\u574F\u5F02\u5E38\u7684\u7EDF\u4E00\u5904\u7406</h3><p>\u4E0D\u8981catch\u5DF2\u7ECF\u7EDF\u4E00\u5904\u7406\u7684\u5F02\u5E38\u3002</p><p>\u6B64\u5916\u5185\u7C7B\u53EF\u4EE5\u9759\u6001\u5F15\u5165\uFF0C\u4EE5\u7F29\u77ED\u4EE3\u7801\u884C\u957F\u5EA6\u3002</p><h3 id="\u7591\u4F3Cdoublekill\u7528\u9519" tabindex="-1"><a class="header-anchor" href="#\u7591\u4F3Cdoublekill\u7528\u9519" aria-hidden="true">#</a> \u7591\u4F3CDoubleKill\u7528\u9519</h3><p><code>@DoubleKill</code>\u4EE5lock\u5F62\u5F0F\u9650\u5236\u5E76\u53D1 \uFF0C\u6B64\u5904\u5E94\u8BE5\u662F<code>@Debounce</code></p><h2 id="_4-unloadingcontroller-java-83-84" tabindex="-1"><a class="header-anchor" href="#_4-unloadingcontroller-java-83-84" aria-hidden="true">#</a> 4.UnloadingController.java 83-84</h2><p>tail-backend 2022-07-28 10:48:46</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">WingsUserDetails</span> details <span class="token operator">=</span> <span class="token class-name">Objects</span><span class="token punctuation">.</span><span class="token function">requireNonNull</span><span class="token punctuation">(</span><span class="token class-name">SecurityContextUtil</span><span class="token punctuation">.</span><span class="token function">getUserDetails</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="requirenonnull-\u6709\u70B9\u4E11\u964B" tabindex="-1"><a class="header-anchor" href="#requirenonnull-\u6709\u70B9\u4E11\u964B" aria-hidden="true">#</a> requireNonNull \u6709\u70B9\u4E11\u964B</h3><p>\u4FEE\u6539SecurityContextUtil\u9ED8\u8BA4<code>@NotNull</code>\uFF0C\u540C\u65F6\u4E5F\u63D0\u4F9B<code>@Nullable</code>\u65B9\u6CD5\u3002</p><h2 id="_5-exceltemplateenum-java-1-1" tabindex="-1"><a class="header-anchor" href="#_5-exceltemplateenum-java-1-1" aria-hidden="true">#</a> 5.ExcelTemplateEnum.java 1-1</h2><p>tail-backend 2022-07-28 12:29:23</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>jiayu<span class="token punctuation">.</span>tail<span class="token punctuation">.</span>common<span class="token punctuation">.</span>enums<span class="token punctuation">.</span>temp</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="\u4E0D\u8981\u4E71\u7528\u7F29\u5199" tabindex="-1"><a class="header-anchor" href="#\u4E0D\u8981\u4E71\u7528\u7F29\u5199" aria-hidden="true">#</a> \u4E0D\u8981\u4E71\u7528\u7F29\u5199</h3><p><code>temp</code>\u548C<code>tmp</code>\uFF0C\u884C\u4E1A\u5185\u7EA6\u5B9A\u662F\u4E34\u65F6(Temporary)\uFF0C\u800C\u6A21\u677F(Template\u6216Templet)\u901A\u5E38\u7F29\u5199\u4E3A<code>tmpl</code></p><h2 id="_6-customerserviceimpl-java-66-67" tabindex="-1"><a class="header-anchor" href="#_6-customerserviceimpl-java-66-67" aria-hidden="true">#</a> 6.CustomerServiceImpl.java 66-67</h2><p>tail-backend 2022-07-28 12:34:54</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Setter</span><span class="token punctuation">(</span>onMethod_ <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token annotation punctuation">@Autowired</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">private</span> <span class="token class-name">DSLContext</span> dslContext<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u4F7F\u7528dao\u4EE3\u66FFdsl\u6CE8\u5165" tabindex="-1"><a class="header-anchor" href="#\u4F7F\u7528dao\u4EE3\u66FFdsl\u6CE8\u5165" aria-hidden="true">#</a> \u4F7F\u7528Dao\u4EE3\u66FFDSL\u6CE8\u5165</h3><p>\u5728WingsBoot\u4E2D\uFF0CDao\u5DF2\u7ECF\u5C01\u88C5\u4E86\u5E38\u7528\u7684jooq\u53CAdatabase\u65B9\u6CD5\u3002</p><h2 id="_7-customerserviceimpl-java-164-168" tabindex="-1"><a class="header-anchor" href="#_7-customerserviceimpl-java-164-168" aria-hidden="true">#</a> 7.CustomerServiceImpl.java 164-168</h2><p>tail-backend 2022-07-28 13:41:59</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">if</span> <span class="token punctuation">(</span>stringRecord1 <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u8E69\u811A\u7684if-true-return-true" tabindex="-1"><a class="header-anchor" href="#\u8E69\u811A\u7684if-true-return-true" aria-hidden="true">#</a> \u8E69\u811A\u7684if-true-return-true</h3><p>Idea\u4F1A\u63D0\u793A\u8FD9\u79CD\u8E69\u811A\u4EE3\u7801\uFF0C\u4FEE\u590D\u4E3A return stringRecord1 != null</p><h2 id="_8-dashboardserviceimpl-java-108-117" tabindex="-1"><a class="header-anchor" href="#_8-dashboardserviceimpl-java-108-117" aria-hidden="true">#</a> 8.DashboardServiceImpl.java 108-117</h2><p>tail-backend 2022-07-28 13:59:22</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">LocalDate</span> startDate <span class="token operator">=</span> <span class="token class-name">LocalDate</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
startDate<span class="token operator">=</span> <span class="token class-name">TimeUtil</span><span class="token punctuation">.</span><span class="token function">getZoneIdLocalTime</span><span class="token punctuation">(</span>startDate<span class="token punctuation">.</span><span class="token function">atStartOfDay</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">ZoneId</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token string">&quot;Asia/Shanghai&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toLocalDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">LocalDate</span> endDate<span class="token punctuation">;</span>
<span class="token keyword">int</span> monthNow<span class="token operator">=</span>startDate<span class="token punctuation">.</span><span class="token function">getMonthValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span><span class="token punctuation">(</span>monthNow<span class="token operator">&lt;</span><span class="token number">5</span><span class="token punctuation">)</span>
    endDate<span class="token operator">=</span>startDate<span class="token punctuation">.</span><span class="token keyword">with</span><span class="token punctuation">(</span><span class="token class-name">TemporalAdjusters</span><span class="token punctuation">.</span><span class="token function">firstDayOfYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token comment">//\u83B7\u53D6\u6700\u524D\u4E00\u6708\u7684\u7684\u7B2C\u4E00\u5929\u65E5\u671F</span>
    endDate <span class="token operator">=</span> startDate<span class="token punctuation">.</span><span class="token function">plusMonths</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">withDayOfMonth</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u65E5\u671F\u8BA1\u7B97\u4E0D\u662F\u52A0\u51CF\u4E58\u9664" tabindex="-1"><a class="header-anchor" href="#\u65E5\u671F\u8BA1\u7B97\u4E0D\u662F\u52A0\u51CF\u4E58\u9664" aria-hidden="true">#</a> \u65E5\u671F\u8BA1\u7B97\u4E0D\u662F\u52A0\u51CF\u4E58\u9664</h3><p>\u65B0\u624B\u5E38\u89C1\u8BEF\u533A\uFF0C\u4EE5\u81EA\u5DF1\u4E60\u60EF\u7684\u56DB\u5219\u8FD0\u7B97\u7684\u6570\u5B66\u77E5\u8BC6\uFF0C\u6765\u8BA1\u7B97\u65E5\u671F\uFF0C\u751A\u81F3\u65F6\u533A\u3002 \u6BD4\u5982\uFF0C+\u5E74+\u6708+\u65E5\uFF0C\u4E0D\u6EE1\u8DB3\u52A0\u6CD5\u4EA4\u6362\u5F8B\u3002\u5982\uFF0C<code>+3M+1D</code> != <code>+1D+3M</code></p><ul><li><code>Asia/Shanghai</code> \u5728WingsBoot\u4E2D\uFF0C\u51E1\u662F\u6307\u5B9A\u65F6\u533A\u7684\u4EE3\u7801\uFF0C\u51E0\u4E4E\u90FD\u662F\u9519\u7684</li><li><code>monthNow</code> \u6708\u4EFD\u548C\u661F\u671F\u7684\u6BD4\u8F83\uFF0C\u63A8\u8350\u7528\u5176Enum\u7C7B<code>Month</code>\u548C<code>DayOfWeek</code></li><li><code>plusMonths(-4)</code> \u4F7F\u7528\u6B63\u5411\u8868\u8FBE <code>minusMonths(4)</code></li><li><code>startDate</code>\u548C<code>endDate</code>\u7684\u8BED\u4E49\uFF0C\u5E94\u8BE5\u548C\u65F6\u95F4\u8F74\u4E00\u81F4\uFF0C\u4ECE\u5C0F\u5230\u5927</li><li>\u4EE3\u7801\u7684\u903B\u8F91\u8868\u8FBE\u5F88\u522B\u626D\uFF0C\u672A\u80FD\u6E05\u6670\u8868\u8FBE\u610F\u56FE\uFF1A\u6700\u8FD14\u4E2A\u6708\uFF0C\u4F46\u4E0D\u8DE8\u5E74</li><li>\u4EE3\u7801\u5E76\u672A\u683C\u5F0F\u5316</li></ul><p>\u4FEE\u6539\u610F\u89C1\uFF0C\u53C2\u8003\u4EE5\u4E0B\u6BD4\u8F83\u4E0D\u9519\u7684\u540C\u610F\u56FE\u4EE3\u7801\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">final</span> <span class="token class-name">LocalDate</span> endDate <span class="token operator">=</span> <span class="token class-name">LocalDate</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">LocalDate</span> startDate <span class="token operator">=</span> endDate
        <span class="token punctuation">.</span><span class="token function">minusWeeks</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token keyword">with</span><span class="token punctuation">(</span><span class="token class-name">TemporalAdjusters</span><span class="token punctuation">.</span><span class="token function">previousOrSame</span><span class="token punctuation">(</span><span class="token class-name">DayOfWeek</span><span class="token punctuation">.</span>SUNDAY<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">final</span> <span class="token class-name">LocalDate</span> firstDayOfYear <span class="token operator">=</span> endDate<span class="token punctuation">.</span><span class="token keyword">with</span><span class="token punctuation">(</span><span class="token class-name">TemporalAdjusters</span><span class="token punctuation">.</span><span class="token function">firstDayOfYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>startDate<span class="token punctuation">.</span><span class="token function">isBefore</span><span class="token punctuation">(</span>firstDayOfYear<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    startDate <span class="token operator">=</span> firstDayOfYear<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_9-dashboardserviceimpl-java-123-124" tabindex="-1"><a class="header-anchor" href="#_9-dashboardserviceimpl-java-123-124" aria-hidden="true">#</a> 9.DashboardServiceImpl.java 123-124</h2><p>tail-backend 2022-07-28 14:47:33</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name"><span class="token namespace">mt<span class="token punctuation">.</span></span>CheckinTime</span><span class="token punctuation">.</span><span class="token function">between</span><span class="token punctuation">(</span>endDate<span class="token punctuation">.</span><span class="token function">atStartOfDay</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">minusHours</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">,</span> 
            startDate<span class="token punctuation">.</span><span class="token function">atTime</span><span class="token punctuation">(</span><span class="token number">23</span><span class="token punctuation">,</span> <span class="token number">59</span><span class="token punctuation">,</span> <span class="token number">59</span><span class="token punctuation">,</span> <span class="token number">999999999</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">minusHours</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token function">and</span><span class="token punctuation">(</span><span class="token class-name"><span class="token namespace">mt<span class="token punctuation">.</span></span>Status</span><span class="token punctuation">.</span><span class="token function">ge</span><span class="token punctuation">(</span><span class="token number">2340250</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u5F53\u5929\u7684\u5F00\u59CB\u548C\u7ED3\u675F" tabindex="-1"><a class="header-anchor" href="#\u5F53\u5929\u7684\u5F00\u59CB\u548C\u7ED3\u675F" aria-hidden="true">#</a> \u5F53\u5929\u7684\u5F00\u59CB\u548C\u7ED3\u675F</h3><p>\u5DF2\u77E5\uFF0Cmysql\u7684<code>between</code>\u662F\u4E24\u7AEF\u5305\u542B(inclusive)\u7684\u95ED\u95ED\u533A\u95F4\u3002</p><ul><li><code>minusHours(8)</code> \u624B\u52A8\u8C03\u6574\u65F6\u533A\uFF0C\u5FC5\u7136\u4E1A\u52A1\u6A21\u578B\u9519\u8BEF\u3002</li><li><code>999999999</code>\uFF0C\u7528atStartOfDay().plusDays(1).minusNanos(1)</li><li>\u6B64\u5904<code>between</code> \u5EFA\u8BAE\u66FF\u6362\u4E3A\u660E\u786E\u7684<code>&gt;=</code>\u548C<code>&lt;</code>\uFF0C\u4EE5\u7B80\u5316\u95ED\u533A\u95F4\u8FB9\u754C\u8BA1\u7B97</li><li><code>2340250</code> \u4E3A\u9B54\u6CD5\u6570\u5B57\uFF0C\u4F7F\u7528\u5BF9\u5E94\u7684Enum\u7C7B</li></ul><h2 id="_10-dashboardserviceimpl-java-129-145" tabindex="-1"><a class="header-anchor" href="#_10-dashboardserviceimpl-java-129-145" aria-hidden="true">#</a> 10.DashboardServiceImpl.java 129-145</h2><p>tail-backend 2022-07-28 15:09:07</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span><span class="token class-name">LineChartDetail</span><span class="token punctuation">&gt;</span></span> detailMap<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">LineChart</span> lineChart<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">LineChart</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span>monthNow<span class="token punctuation">,</span>j<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">;</span>i<span class="token operator">&gt;</span><span class="token number">0</span> <span class="token operator">&amp;&amp;</span> j<span class="token operator">&gt;</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">--</span><span class="token punctuation">,</span>j<span class="token operator">--</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    detailMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span><span class="token keyword">new</span> <span class="token class-name">LineChartDetail</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
results<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>record<span class="token operator">-&gt;</span><span class="token punctuation">{</span>
    <span class="token class-name">Integer</span> monthCnt <span class="token operator">=</span> record<span class="token punctuation">.</span><span class="token function">value1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">plusHours</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getMonthValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">LineChartDetail</span> detail <span class="token operator">=</span> detailMap<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>monthCnt<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// \u8BBE\u7F6Edetail\u4EE3\u7801\uFF0C\u7701\u7565...</span>
    detailMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>monthCnt<span class="token punctuation">,</span>detail<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="java\u96C6\u5408\u6846\u67B6\u4E0D\u719F\u7EC3" tabindex="-1"><a class="header-anchor" href="#java\u96C6\u5408\u6846\u67B6\u4E0D\u719F\u7EC3" aria-hidden="true">#</a> Java\u96C6\u5408\u6846\u67B6\u4E0D\u719F\u7EC3</h3><ul><li>Map\u7684get-check-set\uFF0C\u91C7\u7528computeIfAbsent\u4EE3\u66FF</li><li>\u975Estream\u8BA1\u7B97\uFF0C\u4EE5for-loop\u5FAA\u73AF\uFF0C\u4EE3\u66FFforEach-lambda</li><li>Iterable\u5E94\u8BE5\u4EE5for-in\u4EE3\u66FFfor-i</li></ul><h2 id="_11-ladingserviceimpl-java-330-336" tabindex="-1"><a class="header-anchor" href="#_11-ladingserviceimpl-java-330-336" aria-hidden="true">#</a> 11.LadingServiceImpl.java 330-336</h2><p>tail-backend 2022-07-28 15:45:03</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">needConfirm</span><span class="token punctuation">(</span><span class="token class-name">ScanStatus</span> scanStatus<span class="token punctuation">,</span> <span class="token class-name">ScanStatus</span> scanStatusConfirm<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>scanStatus <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>scanStatus <span class="token operator">==</span> <span class="token class-name">ScanStatus</span><span class="token punctuation">.</span>MATCHED<span class="token punctuation">)</span>
            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token keyword">else</span>
            <span class="token keyword">return</span> scanStatus <span class="token operator">!=</span> scanStatusConfirm<span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u77EDif\u5FC5\u987B\u4E00\u884C\u6216\u62EC\u53F7" tabindex="-1"><a class="header-anchor" href="#\u77EDif\u5FC5\u987B\u4E00\u884C\u6216\u62EC\u53F7" aria-hidden="true">#</a> \u77EDif\u5FC5\u987B\u4E00\u884C\u6216\u62EC\u53F7</h3><ul><li>\u77ED<code>if</code> \u8981\u4E48\u5728\u4E00\u884C\uFF0C\u8981\u4E48\u5728\u82B1\u62EC\u53F7\u4E2D</li><li>\u6B64\u5904\u903B\u8F91\u53EF\u4EE5\u7B80\u5316\uFF0C\u4F46\u76EE\u524D\u53EF\u8BFB\u6027\u4F18\u5148</li></ul><h2 id="_12-ladingserviceimpl-java-460-496" tabindex="-1"><a class="header-anchor" href="#_12-ladingserviceimpl-java-460-496" aria-hidden="true">#</a> 12.LadingServiceImpl.java 460-496</h2><p>tail-backend 2022-07-28 16:01:34</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">switch</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token function">getEvent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span> <span class="token string">&quot;\u62C6\u67DC&quot;</span><span class="token operator">:</span>
        ladingVo<span class="token punctuation">.</span><span class="token function">setDismantle</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token function">getSupplier</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token string">&quot;\u67E5\u9A8C&quot;</span><span class="token operator">:</span>
        ladingVo<span class="token punctuation">.</span><span class="token function">setIsExamined</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u5F3A\u7C7B\u578B\u4EE3\u66FF\u9B54\u6CD5" tabindex="-1"><a class="header-anchor" href="#\u5F3A\u7C7B\u578B\u4EE3\u66FF\u9B54\u6CD5" aria-hidden="true">#</a> \u5F3A\u7C7B\u578B\u4EE3\u66FF\u9B54\u6CD5</h3><ul><li>\u884C\u4E1A\u9ED1\u8BDD\uFF0C\u8981\u4E48Const\u8981\u4E48Enum\uFF0C\u4E0D\u53EF\u4EE5\u5B57\u7B26\u4E32</li><li>\u5927\u6BB5\u7684switch-case\uFF0C\u53EF\u4F7F\u7528if-else\u4EE3\u66FF</li></ul><h2 id="_13-truckorderserviceimpl-java-237-242" tabindex="-1"><a class="header-anchor" href="#_13-truckorderserviceimpl-java-237-242" aria-hidden="true">#</a> 13.TruckOrderServiceImpl.java 237-242</h2><p>tail-backend 2022-07-28 16:16:14</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">try</span> <span class="token punctuation">(</span><span class="token class-name">InputStream</span> in <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span>owtTruckOrder<span class="token punctuation">.</span><span class="token function">getBolFileC</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
     <span class="token class-name">ByteArrayOutputStream</span> out <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ByteArrayOutputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> buffer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token number">1024</span> <span class="token operator">*</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> n <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>n <span class="token operator">=</span> in<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>buffer<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        out<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>buffer<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> out<span class="token punctuation">.</span><span class="token function">toByteArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="io\u5DE5\u5177\u4E0D\u719F\u7EC3" tabindex="-1"><a class="header-anchor" href="#io\u5DE5\u5177\u4E0D\u719F\u7EC3" aria-hidden="true">#</a> IO\u5DE5\u5177\u4E0D\u719F\u7EC3</h3><p>\u5728\u4E1A\u52A1\u5C42\u9762\uFF0C\u65E0\u9700\u8003\u8651buff\u590D\u5236\u7684\u60C5\u51B5\uFF0C\u6240\u6709IO\u64CD\u4F5C\u90FD\u8981Util</p><ul><li>spring StreamUtils.copyToByteArray()</li><li>apache IOUtils.toByteArray()</li></ul>`,64);function w(j,y){const t=u("Badge");return p(),o("div",null,[k,c(" markdownlint-disable MD013 "),d,n("p",null,[v,m,h,b,l(t,{type:"tip",vertical:"top"},{default:i(()=>[f]),_:1})]),g])}const _=e(r,[["render",w],["__file","c001.html.vue"]]);export{_ as default};
